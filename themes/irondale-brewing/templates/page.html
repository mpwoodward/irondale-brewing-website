{% extends "base.html" %}
{% block html_lang %}{{ page.lang }}{% endblock %}

{% block title %}{{ SITENAME|striptags }} - {{ page.title|striptags }}{%endblock%}

{% block head %}
  {{ super() }}

  {% import 'translations.html' as translations with context %}
  {% if translations.entry_hreflang(page) %}
    {{ translations.entry_hreflang(page) }}
  {% endif %}
{% endblock %}

{% block page_header %}
  {% from "page_header.html" import render_header %}
  {{ render_header(page) }}
{% endblock page_header %}

{% block content %}
  {# Provide date metadata when available to support Pagefind ordering/recency. #}
  {# Also include a precomputed sort tag so Pagefind can expose the 'date' sort key. #}
  {% if page.modified %}
    <div style="display:none;" data-pagefind-meta="date:{{ page.modified.isoformat() }}" data-pagefind-sort="date:{{ page.modified.isoformat() }}"></div>
  {% elif page.date %}
    <div style="display:none;" data-pagefind-meta="date:{{ page.date.isoformat() }}" data-pagefind-sort="date:{{ page.date.isoformat() }}"></div>
  {% endif %}
  <article data-pagefind-body>
    <h1 style="display: none;" data-pagefind-meta="title">{{ page.title }}</h1>
    {% import 'translations.html' as translations with context %}
    {{ translations.translations_for(page) }}

    {{ page.content }}

    {% if page.modified %}
      <footer>
        <p>
          Last updated: {{ page.locale_modified }}
        </p>
      </footer>
    {% endif %}
  </article>
{% endblock %}